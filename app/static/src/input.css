@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* ==========================================================================
       Vote Button Styles â€” Canonical Design System
       Colors: Agree=#2563eb (blue-600), Disagree=#dc2626 (red-600), Unsure=#6b7280 (gray-500)
       All pass WCAG AA contrast with white text (6.2:1, 6.6:1, 4.6:1 respectively)
       ========================================================================== */

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    .vote-buttons-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
    }

    @screen sm {
        .vote-buttons-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
    }

    .vote-btn-agree,
    .vote-btn-disagree,
    .vote-btn-unsure {
        @apply text-white font-bold rounded-lg cursor-pointer w-full;
        padding: 16px 12px;
        min-height: 80px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: none;
        transition: background-color 0.15s, transform 0.1s;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        box-sizing: border-box;
    }

    .vote-btn-agree {
        @apply bg-blue-600;
    }
    .vote-btn-agree:hover:not(:disabled),
    .vote-btn-agree:active {
        @apply bg-blue-700;
    }

    .vote-btn-disagree {
        @apply bg-red-600;
    }
    .vote-btn-disagree:hover:not(:disabled),
    .vote-btn-disagree:active {
        @apply bg-red-700;
    }

    .vote-btn-unsure {
        @apply bg-gray-500;
    }
    .vote-btn-unsure:hover:not(:disabled),
    .vote-btn-unsure:active {
        @apply bg-gray-600;
    }

    .vote-btn-agree:focus-visible,
    .vote-btn-disagree:focus-visible,
    .vote-btn-unsure:focus-visible {
        @apply outline-none ring-2 ring-offset-2 ring-blue-500;
    }

    .vote-btn-agree:hover:not(:disabled),
    .vote-btn-disagree:hover:not(:disabled),
    .vote-btn-unsure:hover:not(:disabled) {
        transform: scale(1.02);
    }

    .vote-btn-agree:disabled,
    .vote-btn-disagree:disabled,
    .vote-btn-unsure:disabled {
        @apply opacity-70 cursor-not-allowed;
        transform: none;
    }

    .vote-label {
        @apply text-sm sm:text-base tracking-wide text-center;
        margin-bottom: 4px;
    }

    .vote-count {
        @apply text-2xl sm:text-3xl font-bold text-center;
    }

    .vote-loading {
        display: none;
    }

    .vote-content {
        @apply flex flex-col items-center;
    }

}

@media (prefers-reduced-motion: reduce) {
    .vote-btn-agree,
    .vote-btn-disagree,
    .vote-btn-unsure {
        transition: none !important;
    }
}
